<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>jekyll-assets by ixti</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>
      <div id="header">
        <nav>
          <li class="fork"><a href="https://github.com/ixti/jekyll-assets">View On GitHub</a></li>
          <li class="downloads"><a href="https://github.com/ixti/jekyll-assets/zipball/master">ZIP</a></li>
          <li class="downloads"><a href="https://github.com/ixti/jekyll-assets/tarball/master">TAR</a></li>
          <li class="title">DOWNLOADS</li>
        </nav>
      </div><!-- end header -->

    <div class="wrapper">

      <section>
        <div id="title">
          <h1>jekyll-assets</h1>
          <p>Unleash Mr Hyde!</p>
          <hr>
          <span class="credits left">Project maintained by <a href="https://github.com/ixti">ixti</a></span>
          <span class="credits right">Hosted on GitHub Pages &mdash; Theme by <a href="http://twitter.com/#!/michigangraham">mattgraham</a></span>
        </div>

        <h1>Jekyll::AssetsPlugin</h1>

<p>Jekyll plugin, that adds Rails-alike assets pipeline, that means that:</p>

<ul>
<li>It allows you to write javascript/css assets in other languages such as
CoffeeScript, Sass, Less and ERB.</li>
<li>It allows you to specify dependencies between your assets and automatically
concatenates them.</li>
<li>It allows you to minify/compress your JavaScript and CSS assets using
compressor you like: YUI, SASS, Uglifier or no compression at all.</li>
<li>It supports JavaScript templates for client-side rendering of strings or
markup. JavaScript templates have the special format extension <code>.jst</code> and are
compiled to JavaScript functions.</li>
<li>Automaticaly adds MD5 fingerprint suffix for <em>cache busting</em>. That means
that your <code>app.css</code> will become <code>app-908e25f4bf641868d8683022a5b62f54.css</code>.</li>
<li>
<a href="http://compass-style.org/">Compass</a> and <a href="http://bourbon.io/">Bourbon</a> built-in support.
See "Custom Vendors" below.</li>
</ul><p>Jekyll-Assets uses fabulous <a href="https://github.com/sstephenson/sprockets#readme">Sprockets</a> under the hood, so you may
refer to Rails guide about <a href="http://guides.rubyonrails.org/asset_pipeline.html">Asset Pipeline</a> for detailed
information about amazing features it gives you.</p>

<p><em>Note:</em> You must have an <a href="https://github.com/sstephenson/execjs#readme">ExecJS</a> supported runtime in order to use
  CoffeeScript.</p>

<h2>Installation</h2>

<p>Add this line to your application's Gemfile:</p>

<pre><code>gem 'jekyll-assets'
</code></pre>

<p>And then execute:</p>

<pre><code>$ bundle
</code></pre>

<p>Or install it yourself as:</p>

<pre><code>$ gem install jekyll-assets
</code></pre>

<h2>How to Use Jekyll-Assets</h2>

<p>First of all make sure to require it. Common practice is to add following line
into <code>_plugins/ext.rb</code> file:</p>

<div class="highlight"><pre><span class="nb">require</span> <span class="s2">"jekyll-assets"</span>
</pre></div>

<p>Once plugin installed, you'll have following liquid tags available:</p>

<ul>
<li>
<code>{% javascript app %}</code>: Generates <code>&lt;script&gt;</code> tag for <code>app.js</code>
</li>
<li>
<code>{% stylesheet app %}</code>: Generates <code>&lt;link&gt;</code> tag for <code>app.css</code>
</li>
<li>
<code>{% asset_path logo.png %}</code>: Returns <em>resulting</em> URL for <code>logo.png</code>
</li>
<li>
<code>{% asset app.css %}</code>: Returns <em>compiled</em> body of <code>app.css</code>
</li>
</ul><p>All compiled assets will be stored under <code>assets/</code> dir of generated site.</p>

<p>Pipeline assets should be under your sources directory of Jekyll site. When a
file is referenced with liquid tag or with helper from another asset, Sprockets
searches the three default asset locations for it: <code>_assets/images</code>,
<code>_assets/javascripts</code> and <code>_assets/stylesheets</code>.</p>

<p>For example these files:</p>

<pre><code>_assets/stylesheets/app.css
_assets/javascripts/app.js
_assets/javascripts/vendor/jquery.js
</code></pre>

<p>would be referenced like this:</p>

<div class="highlight"><pre>{% stylesheet app %}
{% javascript app %}
{% javascript vendor/jquery %}
</pre></div>

<p>You might want to require <code>vendor/jquery.js</code> into your <code>app.js</code>. To do so, just
put following line in the beginning of your <code>app.js</code> to get it concatenated:</p>

<div class="highlight"><pre><span class="c1">//= require vendor/jquery</span>

<span class="nx">$</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="nx">alert</span><span class="p">(</span><span class="s1">'I love BIG BOOKS!'</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>

<p>If you want to use CoffeScript, just add <code>.coffee</code> suffix to the file you want
and you're good to go. For example, here's how your <code>app.js.coffe</code> might look
like:</p>

<div class="highlight"><pre><span class="c1">#= require vendor/jquery</span>

<span class="nx">$</span> <span class="o">-&gt;</span>
  <span class="nx">alert</span> <span class="s">'I love BIG BOOKS! And small ones too!'</span>
</pre></div>

<p>Notice, that <code>vendor/jquery</code> is not required to be coffee script. You can easily
mix CoffeeScript and vanilla JavaScript, CSS and SCSS and SASS and LESS. The
difference is only in comments styles used with <em>directives</em>.</p>

<p>See detailes information about these <em>directives</em> below.</p>

<p>You might also want your stylesheets and javascripts to be minified. In this
case just install <code>uglifier</code> gem and add following lines into your <code>config.yml</code>:</p>

<div class="highlight"><pre><span class="l-Scalar-Plain">assets</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">compress</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">js</span><span class="p-Indicator">:</span>   <span class="l-Scalar-Plain">uglifier</span>
    <span class="l-Scalar-Plain">css</span><span class="p-Indicator">:</span>  <span class="l-Scalar-Plain">sass</span>
</pre></div>

<p>If you want to use YUI compressor for minification, install <code>yui-compressor</code>
gem and put <code>yui</code> in place of <code>uglifier</code> and/or <code>sass</code> in the config file.</p>

<p>Let's go crazy now! Assume you want your blog's <code>body</code> background color to be
white all the time, but red in December. Just add <code>.erb</code> suffix extension and
you can use ruby to "pre-process" asset, something like this:</p>

<pre><code>// file: _assets/stylesheets/app.css.sass.erb

body
  background-color: &lt;%= (12 == Date.today.month) ? "red" : "white" %&gt;
</code></pre>

<p>Want more? Sure, here you are. You can use JavaScript templating with EJS or ECO
for example. Create a file <code>_assets/javascripts/hello.jst.ejs</code> with following
contents:</p>

<div class="highlight"><pre><span class="nt">&lt;p&gt;</span>Hello, <span class="nt">&lt;span&gt;</span><span class="err">&lt;</span>%= name %&gt;<span class="nt">&lt;/span&gt;</span>!<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;p&gt;</span><span class="err">&lt;</span>%= info %&gt;<span class="nt">&lt;/p&gt;</span>
</pre></div>

<p>Then use it in your <code>app.js</code> file like this:</p>

<div class="highlight"><pre><span class="c1">#= require vendor/jquery</span>
<span class="c1">#= require hello</span>

<span class="nx">$</span> <span class="o">-&gt;</span>
  <span class="nx">$</span><span class="p">(</span><span class="s">"body"</span><span class="p">).</span><span class="nx">html</span> <span class="nx">JST</span><span class="p">[</span><span class="s">"hello"</span><span class="p">]</span>
    <span class="nv">name: </span><span class="s">"ixti"</span>
    <span class="nv">info: </span><span class="s">"I love BIG BOOKS! And small ones too!"</span>
</pre></div>

<p>Finally, you might want to store your assets on <a href="http://aws.amazon.com/s3">Amazon S3</a> or any
CDN service you like. As said previously, all compiled/processed assets got
special MD5 checksum appended to their original filenames. So, for example,
your <code>app.js.coffee</code> will become something like:</p>

<pre><code>app-4f41243847da693a4f356c0486114bc6.js
</code></pre>

<p>By default, generated URLs will have <code>/assets/</code> prefixes, but you will want to
change this if you are going to host assets somewhere else. This can be easily
changed via configuration:</p>

<div class="highlight"><pre><span class="l-Scalar-Plain">assets</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">baseurl</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">//my.super-cool-cdn.com/</span>
</pre></div>

<p>That's all. Feel free to ask questions if any on <a href="https://twitter.com/zapparov">twitter</a>,
<a>jabber</a> or <a href="mailto://ixti@member.fsf.org">e-mail</a>.</p>

<h2>Custom Vendors</h2>

<p>Sometimes you would like to have some 3rd-party vendors. For this purposes,
normally all you have to do is to override default assets sources in config:</p>

<div class="highlight"><pre><span class="l-Scalar-Plain">assets</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">sources</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">_assets/images</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">_assets/javascripts</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">_assets/stylesheets</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">_vendors/bootstrap/stylesheets</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">_vendors/bootstrap/javascripts</span>
</pre></div>

<p>But sometimes this is not enough. For example, with compass. As jekyll-assets
uses Sprockets internally, you can simply append "global" paths into it. Just
add following line into your <code>_plugins/ext.rb</code> file:</p>

<div class="highlight"><pre><span class="nb">require</span> <span class="s2">"sprockets"</span>

<span class="no">Sprockets</span><span class="o">.</span><span class="n">append_path</span> <span class="s2">"/my/vendor"</span>
</pre></div>

<p>That's it, now jekyll-assets will try to look for assets inside <code>/my/vendor</code>
path first.</p>

<h3>Built-in Vendors Support</h3>

<p>For your comfort jekyll-assets has built-in support for some popular libraries.</p>

<h4>Compass Support</h4>

<p>Require <code>jekyll-assets/compass</code> to enable, e.g.:</p>

<div class="highlight"><pre><span class="nb">require</span> <span class="s2">"jekyll-assets"</span>
<span class="nb">require</span> <span class="s2">"jekyll-assets/compass"</span>
</pre></div>

<p>Now you can add <code>@import "compass"</code> in your SASS assets to get Compass goodies.</p>

<p><em>Notice</em> that if you want to use other than default Compass plugins/frameworks,
you must require them BEFORE <code>jekyll-assets/compass</code>.</p>

<h4>Bourbon Support</h4>

<p>Require <code>jekyll-assets/bourbon</code> to enable, e.g.:</p>

<div class="highlight"><pre><span class="nb">require</span> <span class="s2">"jekyll-assets"</span>
<span class="nb">require</span> <span class="s2">"jekyll-assets/bourbon"</span>
</pre></div>

<p>Now you can add <code>@import "bourbon"</code> in your SASS assets to get Bourbon goodies.</p>

<h2>The Directive Processor</h2>

<p><em>Note:</em> This section extracted from <a href="https://github.com/sstephenson/sprockets#readme">Sprockets</a> README.</p>

<p>Sprockets runs the <em>directive processor</em> on each CSS and JavaScript
source file. The directive processor scans for comment lines beginning
with <code>=</code> in comment blocks at the top of the file.</p>

<pre><code>//= require jquery
//= require jquery-ui
//= require backbone
//= require_tree .
</code></pre>

<p>The first word immediately following <code>=</code> specifies the directive
name. Any words following the directive name are treated as
arguments. Arguments may be placed in single or double quotes if they
contain spaces, similar to commands in the Unix shell.</p>

<p><strong>Note</strong>: Non-directive comment lines will be preserved in the final
  asset, but directive comments are stripped after
  processing. Sprockets will not look for directives in comment blocks
  that occur after the first line of code.</p>

<h3>Supported Comment Types</h3>

<p>The directive processor understands comment blocks in three formats:</p>

<pre><code>/* Multi-line comment blocks (CSS, SCSS, JavaScript)
 *= require foo
 */

// Single-line comment blocks (SCSS, JavaScript)
//= require foo

# Single-line comment blocks (CoffeeScript)
#= require foo
</code></pre>

<h3>Sprockets Directives</h3>

<p>You can use the following directives to declare dependencies in asset
source files.</p>

<p>For directives that take a <em>path</em> argument, you may specify either a
logical path or a relative path. Relative paths begin with <code>./</code> and
reference files relative to the location of the current file.</p>

<h4>The <code>require</code> Directive</h4>

<p><code>require</code> <em>path</em> inserts the contents of the asset source file
specified by <em>path</em>. If the file is required multiple times, it will
appear in the bundle only once.</p>

<h4>The <code>include</code> Directive</h4>

<p><code>include</code> <em>path</em> works like <code>require</code>, but inserts the contents of the
specified source file even if it has already been included or
required.</p>

<h4>The <code>require_directory</code> Directive</h4>

<p><code>require_directory</code> <em>path</em> requires all source files of the same
format in the directory specified by <em>path</em>. Files are required in
alphabetical order.</p>

<h4>The <code>require_tree</code> Directive</h4>

<p><code>require_tree</code> <em>path</em> works like <code>require_directory</code>, but operates
recursively to require all files in all subdirectories of the
directory specified by <em>path</em>.</p>

<h4>The <code>require_self</code> Directive</h4>

<p><code>require_self</code> tells Sprockets to insert the body of the current
source file before any subsequent <code>require</code> or <code>include</code> directives.</p>

<h4>The <code>depend_on</code> Directive</h4>

<p><code>depend_on</code> <em>path</em> declares a dependency on the given <em>path</em> without
including it in the bundle. This is useful when you need to expire an
asset's cache in response to a change in another file.</p>

<h4>The <code>stub</code> Directive</h4>

<p><code>stub</code> <em>path</em> allows dependency to be excluded from the asset bundle.
The <em>path</em> must be a valid asset and may or may not already be part
of the bundle. Once stubbed, it is blacklisted and can't be brought
back by any other <code>require</code>.</p>

<h2>Configuration</h2>

<p>You can fine-tune configuration by editing your <code>_config.yml</code>:</p>

<pre><code>#
# Plugin: jekyll-assets
#
assets:
  #
  # Pathname of the destination of generated (bundled) assets relative
  # to the destination of the root.
  #
  dirname: assets
  #
  # Base URL of assets paths.
  #
  baseurl: /assets/
  #
  # Pathnames where to find assets relative to the root of the site.
  #
  sources:
    - _assets/javascripts
    - _assets/stylesheets
    - _assets/images
  #
  # Sets compressors for the specific types of file: `js`, or `css`.
  # No compression by default.
  #
  # Possible variants:
  #
  #     css  =&gt; 'yui', 'sass', nil
  #     js   =&gt; 'yui', 'uglifier', nil
  #
  compress:
    js:   ~
    css:  ~
</code></pre>

<h2>"Ben, I need help!" (c) Brother 2</h2>

<p>Feel free to send me any comments, recommendations, suggestions. Improve this
README, as I really suck in documenting things (thanks <a href="https://github.com/imathis" class="user-mention">@imathis</a> for pointing
this out).</p>

<h2>Contributing</h2>

<ol>
<li>Fork it</li>
<li>Create your feature branch (<code>git checkout -b my-new-feature</code>)</li>
<li>Commit your changes (<code>git commit -am 'Added some feature'</code>)</li>
<li>Push to the branch (<code>git push origin my-new-feature</code>)</li>
<li>Create new Pull Request</li>
</ol><h2>License</h2>

<p>Copyright (C) 2012 Aleksey V Zapparov (<a href="http://ixti.net/">http://ixti.net/</a>)</p>

<p>The MIT License</p>

<p>Permission is hereby granted, free of charge, to any person obtaining a copy of
this software and associated documentation files (the “Software”), to deal in
the Software without restriction, including without limitation the rights to
use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies
of the Software, and to permit persons to whom the Software is furnished to do
so, subject to the following conditions:</p>

<p>The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.</p>

<p>THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.</p>
      </section>

    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-35573678-3");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>